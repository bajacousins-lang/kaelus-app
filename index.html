<script>
    const tg = window.Telegram.WebApp;
    const API_URL = "https://kaelus-bot.onrender.com";
    const MI_LOGO = "logo.png";

    async function fetchData() {
        const loader = document.getElementById('loader');
        try {
            // Alta disponibilidad: Reintento automÃ¡tico con timeout
            const controller = new AbortController();
            const id = setTimeout(() => controller.abort(), 8000); // 8 segundos max
            
            const res = await fetch(`${API_URL}/api/links`, { signal: controller.signal });
            clearTimeout(id);
            
            const items = await res.json();
            if(items.length > 0) {
                render(items);
                loader.style.display = 'none';
            } else {
                throw new Error("Sin datos");
            }
        } catch (e) {
            loader.innerHTML = "<p>ğŸ”„ El servidor estÃ¡ despertando... un momento.</p>";
            setTimeout(fetchData, 3000); // Reintento infinito cada 3 seg
        }
    }

    // El resto del cÃ³digo de render y filtros se mantiene igual...
</script>
